{"code":"!function(r){var e={};function o(t){if(e[t])return e[t].exports;var n=e[t]={i:t,l:!1,exports:{}};return r[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=r,o.c=e,o.d=function(r,e,t){o.o(r,e)||Object.defineProperty(r,e,{configurable:!1,enumerable:!0,get:t})},o.r=function(r){Object.defineProperty(r,\"__esModule\",{value:!0})},o.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return o.d(e,\"a\",e),e},o.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},o.p=\"\",o(o.s=7)}([function(r,e,o){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(r){r[r.RED=0]=\"RED\",r[r.BLUE=1]=\"BLUE\",r[r.GREEN=2]=\"GREEN\",r[r.YELLOW=3]=\"YELLOW\",r[r.NONE=4]=\"NONE\"}(e.Color||(e.Color={}))},function(r,e,o){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var t=o(0),n=o(4),i=function(){function r(){}return r.returnPieceOfColor=function(r){return r==t.Color.BLUE?this.BLUE:r==t.Color.RED?this.RED:r==t.Color.GREEN?this.GREEN:r==t.Color.YELLOW?this.YELLOW:void 0},r.BLUE=new n.default(\"blue\",t.Color.BLUE,1),r.RED=new n.default(\"red\",t.Color.RED,1),r.YELLOW=new n.default(\"yellow\",t.Color.YELLOW,1),r.GREEN=new n.default(\"green\",t.Color.GREEN,1),r.NONE=new n.default(\"white\",t.Color.NONE,0),r}();e.default=i},function(r,e,o){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var t=function(){return function(r,e,o,t){this.occupyingPiece=r,this.xPos=e,this.yPos=o,this.isStartingSquareOfColor=t}}();e.default=t},function(r,e,o){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var t=o(0),n=o(1),i=function(){function r(r){this.boardToBeDrawn=r}return r.prototype.drawBoardWithPawns=function(){for(var r=document.getElementById(\"myCanvas\").getContext(\"2d\"),e=0;e<this.boardToBeDrawn.squareArray.length;e++){var o=this.boardToBeDrawn.squareArray[e];r.fillStyle=\"white\",o.isStartingSquareOfColor==t.Color.RED?r.fillStyle=\"pink\":o.isStartingSquareOfColor==t.Color.BLUE?r.fillStyle=\"lightblue\":o.isStartingSquareOfColor==t.Color.YELLOW?r.fillStyle=\"lightyellow\":o.isStartingSquareOfColor==t.Color.GREEN&&(r.fillStyle=\"lightgreen\"),r.beginPath(),r.fillRect(o.xPos,o.yPos,50,50),r.strokeRect(o.xPos,o.yPos,50,50),r.stroke(),o.occupyingPiece!=n.default.NONE&&(r.beginPath(),r.arc(o.xPos+25,o.yPos+25,20,0,2*Math.PI),r.fillStyle=o.occupyingPiece.colorString,r.fill(),r.stroke())}for(e=0;e<4;e++){var i=this.boardToBeDrawn.redSquareArray[e],a=this.boardToBeDrawn.blueSquareArray[e],u=this.boardToBeDrawn.greenSquareArray[e],l=this.boardToBeDrawn.yellowSquareArray[e];r.fillStyle=\"red\",r.fillRect(i.xPos,i.yPos,50,50),r.strokeRect(i.xPos,i.yPos,50,50),r.fillStyle=\"blue\",r.fillRect(a.xPos,a.yPos,50,50),r.strokeRect(a.xPos,a.yPos,50,50),r.fillStyle=\"green\",r.fillRect(u.xPos,u.yPos,50,50),r.strokeRect(u.xPos,u.yPos,50,50),r.fillStyle=\"yellow\",r.fillRect(l.xPos,l.yPos,50,50),r.strokeRect(l.xPos,l.yPos,50,50),r.stroke(),i.occupyingPiece!=n.default.NONE&&(r.beginPath(),r.arc(i.xPos+25,i.yPos+25,20,0,2*Math.PI),r.fillStyle=i.occupyingPiece.colorString,r.fill(),r.stroke()),a.occupyingPiece!=n.default.NONE&&(r.beginPath(),r.arc(a.xPos+25,a.yPos+25,20,0,2*Math.PI),r.fillStyle=a.occupyingPiece.colorString,r.fill(),r.stroke()),u.occupyingPiece!=n.default.NONE&&(r.beginPath(),r.arc(u.xPos+25,u.yPos+25,20,0,2*Math.PI),r.fillStyle=u.occupyingPiece.colorString,r.fill(),r.stroke()),l.occupyingPiece!=n.default.NONE&&(r.beginPath(),r.arc(l.xPos+25,l.yPos+25,20,0,2*Math.PI),r.fillStyle=l.occupyingPiece.colorString,r.fill(),r.stroke())}},r.prototype.gameOver=function(r){var e=document.getElementById(\"myCanvas\").getContext(\"2d\");e.font=\"30px Arial\";var o=t.Color[r].toString;e.fillText(o+\" wins!\",300,50)},r}();e.default=i},function(r,e,o){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var t=function(){return function(r,e,o){this.colorString=r,this.color=e,this.number=o}}();e.default=t},function(r,e,o){\"use strict\";var t,n=this&&this.__extends||(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o])},function(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(r){function e(e,o,t,n){var i=r.call(this,e,o,t,n)||this;return i.myColor=n,i}return n(e,r),e}(o(2).default);e.default=i},function(r,e,o){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var t=o(0),n=o(5),i=o(1),a=o(2),u=function(){function r(){this.squareArray=[],this.cornerSequence=[\"E5\",\"N4\",\"E2\",\"S4\",\"E4\",\"S2\",\"W4\",\"S4\",\"W2\",\"N4\",\"W4\",\"N1\"],this.redSquareArray=[],this.blueSquareArray=[],this.greenSquareArray=[],this.yellowSquareArray=[],this.fillSquareArray(),this.fillColouredSquareArrays()}return r.prototype.fillSquareArray=function(){for(var r=-1,e=4,o=0,n=0;n<40;n++){var u=this.cornerSequence[o],l=u.substr(0,1),s=parseInt(u.substr(1,1));\"E\"==l&&(r+=1),\"N\"==l&&(e-=1),\"S\"==l&&(e+=1),\"W\"==l&&(r-=1),s-=1,this.cornerSequence[o]=l+String(s),s<1&&o++,this.squareArray[n]=new a.default(i.default.NONE,50*r,50*e,t.Color.NONE)}this.squareArray[0].isStartingSquareOfColor=t.Color.RED,this.squareArray[0].occupyingPiece=i.default.RED,this.squareArray[39].isFinalSquareOfColor=t.Color.RED,this.squareArray[10].isStartingSquareOfColor=t.Color.BLUE,this.squareArray[10].occupyingPiece=i.default.BLUE,this.squareArray[9].isFinalSquareOfColor=t.Color.BLUE,this.squareArray[20].isStartingSquareOfColor=t.Color.GREEN,this.squareArray[20].occupyingPiece=i.default.GREEN,this.squareArray[19].isFinalSquareOfColor=t.Color.GREEN,this.squareArray[30].isStartingSquareOfColor=t.Color.YELLOW,this.squareArray[30].occupyingPiece=i.default.YELLOW,this.squareArray[29].isFinalSquareOfColor=t.Color.YELLOW},r.prototype.fillColouredSquareArrays=function(){for(var r=0;r<4;r++)this.redSquareArray[r]=new n.default(i.default.NONE,50+50*r,250,t.Color.RED),this.blueSquareArray[r]=new n.default(i.default.NONE,250,50+50*r,t.Color.BLUE),this.greenSquareArray[r]=new n.default(i.default.NONE,450-50*r,250,t.Color.BLUE),this.yellowSquareArray[r]=new n.default(i.default.NONE,250,450-50*r,t.Color.YELLOW)},r.prototype.getClickedSquareIndex=function(r,e){for(var o=0;o<this.squareArray.length;o++){var t=this.squareArray[o];if(r>t.xPos&&r<t.xPos+50&&e>t.yPos&&e<t.yPos+50)return o}return 0},r.prototype.getNumberOfPawnsOnBoardOfColor=function(r){for(var e=0,o=0;o<this.squareArray.length;o++){this.squareArray[o].occupyingPiece.color==r&&e++}return e},r.prototype.getNumberOfPawnsOnEndRowOfColor=function(r){var e=[];r==t.Color.RED&&(e=this.redSquareArray),r==t.Color.BLUE&&(e=this.blueSquareArray),r==t.Color.GREEN&&(e=this.greenSquareArray),r==t.Color.YELLOW&&(e=this.yellowSquareArray);for(var o=0,n=0;n<e.length;n++)e[n].occupyingPiece==i.default.returnPieceOfColor(r)&&o++;return o},r.prototype.getStartingSquareOfColor=function(r){return r==t.Color.RED?0:r==t.Color.BLUE?10:r==t.Color.GREEN?20:r==t.Color.YELLOW?30:void 0},r.prototype.getFinalSquareOfColor=function(r){return r==t.Color.RED?39:r==t.Color.BLUE?9:r==t.Color.GREEN?19:r==t.Color.YELLOW?29:void 0},r.prototype.getSquareArrayOfColor=function(r){return r==t.Color.RED?this.redSquareArray:r==t.Color.BLUE?this.blueSquareArray:r==t.Color.GREEN?this.greenSquareArray:r==t.Color.YELLOW?this.yellowSquareArray:void 0},r}();e.default=u},function(r,e,o){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var t=o(6),n=o(0),i=o(3),a=o(1),u=new(function(){function r(){this.myBoard=new t.default,this.myGUI=new i.default(this.myBoard),this.rolledNumber=0,this.buttonContainer=document.getElementById(\"buttonContainer\")}return r.prototype.initialize=function(){this.currentTurnColor=n.Color.RED,this.myGUI.drawBoardWithPawns(),document.getElementById(\"turnIndicator\").innerHTML=n.Color[this.currentTurnColor]+\"'s turn\"},r.prototype.rollDie=function(){this.rolledNumber=Math.floor(6*Math.random())+1,this.myBoard.getNumberOfPawnsOnBoardOfColor(this.currentTurnColor)>0?(this.buttonContainer.innerHTML=\"<div id='diceNumber'>choose a pawn to move \"+this.rolledNumber+\" steps.</div>\",6==this.rolledNumber&&(this.myBoard.getNumberOfPawnsOnBoardOfColor(this.currentTurnColor)+this.myBoard.getNumberOfPawnsOnEndRowOfColor(this.currentTurnColor)<4&&this.placeNewPawnOnBoard(),this.buttonContainer.innerHTML+=\"<div id='diceNumber'>You rolled a 6! A new pawn has been placed on the board. </div>\")):(6==this.rolledNumber?(this.buttonContainer.innerHTML=\"<div id='diceNumber'>You rolled a 6! A new pawn has been placed on the board. </div>\",this.placeNewPawnOnBoard()):this.buttonContainer.innerHTML=\"<div id='diceNumber'>You rolled \"+this.rolledNumber+\". You will get a new pawn on the board when you roll 6</div>\",this.buttonContainer.innerHTML+=\"<button onclick=myGame.nextTurn()> ok </button>\")},r.prototype.mousePosition=function(r){this.mouseX=r.clientX-10,this.mouseY=r.clientY-10},r.prototype.choosePawn=function(){if(0!=this.rolledNumber){var r=this.myBoard.getClickedSquareIndex(this.mouseX,this.mouseY),e=this.myBoard.squareArray[r].occupyingPiece;e.color==this.currentTurnColor&&this.findNewPositionForPawn(e,r)}},r.prototype.findNewPositionForPawn=function(r,e){var o=e+this.rolledNumber,t=o>=this.myBoard.squareArray.length?o-this.myBoard.squareArray.length:o,n=(this.myBoard.getFinalSquareOfColor(this.currentTurnColor),this.myBoard.getSquareArrayOfColor(this.currentTurnColor)),i=3-this.myBoard.getNumberOfPawnsOnEndRowOfColor(this.currentTurnColor);this.passedFinalSquare(e,r.color)?(console.log(\"passed final square, moving to endrow\"),this.movePawn(n,e,i,r)):(console.log(\"not passing final square, moving to new square\"),this.movePawn(this.myBoard.squareArray,e,t,r))},r.prototype.movePawn=function(r,e,o,t){r[o].occupyingPiece.color==t.color?alert(\"You can't move your pawn to land on one of your own pawns.\"):(this.myBoard.squareArray[e].occupyingPiece=a.default.NONE,r[o].occupyingPiece=t,this.myGUI.drawBoardWithPawns(),this.nextTurn())},r.prototype.passedFinalSquare=function(r,e){var o=this.myBoard.getFinalSquareOfColor(this.currentTurnColor);if(e==n.Color.RED){if(r+this.rolledNumber>this.myBoard.squareArray.length)return!0}else if(o>=r&&o<r+this.rolledNumber)return!0;return!1},r.prototype.placeNewPawnOnBoard=function(){var r=this.myBoard.getStartingSquareOfColor(this.currentTurnColor);this.myBoard.squareArray[r].occupyingPiece=a.default.returnPieceOfColor(this.currentTurnColor),this.myGUI.drawBoardWithPawns()},r.prototype.nextTurn=function(){4==this.myBoard.getNumberOfPawnsOnEndRowOfColor(this.currentTurnColor)?this.gameOver():(this.rolledNumber=0,this.currentTurnColor=3==this.currentTurnColor?0:this.currentTurnColor+1,document.getElementById(\"turnIndicator\").innerHTML=n.Color[this.currentTurnColor]+\"'s turn\",document.getElementById(\"buttonContainer\").innerHTML=\"<button id='turnButton' onclick=myGame.rollDie() >Roll die!</button>\")},r.prototype.gameOver=function(){this.myGUI.gameOver(this.currentTurnColor)},r}());u.initialize();var l=document.getElementById(\"myCanvas\");l.addEventListener(\"mousemove\",u.mousePosition),l.addEventListener(\"click\",u.choosePawn),document.getElementById(\"turnButton\").addEventListener(\"click\",u.rollDie)}]);","extractedComments":[]}